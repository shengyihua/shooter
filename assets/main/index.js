System.register("chunks:///plugin/joystick/Joystick.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(o,t){var i,e,n,r,c,a,s,u,l,p,d,h,y,f,v,T,m,_,k,g,b,B,C,E,j;return o({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_temp:void 0}),{setters:[function(o){i=o.applyDecoratedDescriptor,e=o.inheritsLoose,n=o.initializerDefineProperty,r=o.assertThisInitialized,c=o.defineProperty},function(o){a=o.cclegacy,s=o._decorator,u=o.Node,l=o.UITransformComponent,p=o.Vec3,d=o.macro,h=o.Component}],execute:function(){a._RF.push({},"275fb7kvTJDT6QRpOP13/Md","Joystick",void 0),E=s.ccclass,j=s.property,o("Joystick",(y=E("Joystick"),f=j({type:u,tooltip:"移动中心节点"}),v=j({type:u,tooltip:"摇杆背景节点"}),T=j({type:cc.Integer,tooltip:"摇杆活动半径"}),m=j({type:[cc.Component.EventHandler],tooltip:"摇杆移动回调"}),y((g=i((k=function(o){function t(){for(var t,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return t=o.call.apply(o,[this].concat(e))||this,n(r(t),"midNode",g,r(t)),n(r(t),"joyBk",b,r(t)),n(r(t),"maxR",B,r(t)),n(r(t),"joyCallBack",C,r(t)),c(r(t),"uITransform",null),t}e(t,o);var i=t.prototype;return i.onLoad=function(){this.goBackMid()},i.start=function(){this.uITransform=this.getComponent(l),this.joyBk.on(u.EventType.TOUCH_START,this.onTouchStart,this),this.joyBk.on(u.EventType.TOUCH_MOVE,this.onTouchMove,this),this.joyBk.on(u.EventType.TOUCH_END,this.onTouchEnd,this),this.joyBk.on(u.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},i.goBackMid=function(){this.midNode.setPosition(0,0,0)},i.onTouchStart=function(o){this.onTouchMove(o)},i.onTouchMove=function(o){var t=o.getUILocation(),i=this.uITransform.convertToNodeSpaceAR(new p(t.x,t.y));this.clampPos(i),this.midNode.setPosition(i.x,i.y,0);var e=this.covertToAngle(i);this.joyCallBack.forEach((function(o){return o.emit([i,e])}))},i.onTouchEnd=function(o){this.goBackMid(),this.joyCallBack.forEach((function(o){return o.emit([new p(0,0,0)])}))},i.clampPos=function(o){var t=o.length();if(t>this.maxR){var i=this.maxR/t;o.x*=i,o.y*=i}},i.covertToAngle=function(o){return Math.atan2(o.y,o.x)*d.DEG},t}(h)).prototype,"midNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=i(k.prototype,"joyBk",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(k.prototype,"maxR",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),C=i(k.prototype,"joyCallBack",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=k))||_)),a._RF.pop()}}}));

System.register("chunks:///plugin/astar/Pathfinding.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(i,t){var e,r,s,o,n,d,a,h,l,u,p,c,g,f,v,b,z,m,y,S,C,D,w,L,_,O,P,x,W,R,X,Y,k,G,M,N,F;return i({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_temp:void 0}),{setters:[function(i){e=i.applyDecoratedDescriptor,r=i.createClass,s=i.defineProperty,o=i.inheritsLoose,n=i.initializerDefineProperty,d=i.assertThisInitialized},function(i){a=i.cclegacy,h=i._decorator,l=i.Prefab,u=i.Vec2,p=i.Node,c=i.Vec3,g=i.instantiate,f=i.Color,v=i.misc,b=i.v3,z=i.geometry,m=i.PhysicsSystem,y=i.MeshRenderer,S=i.Component}],execute:function(){a._RF.push({},"b6e4d4cXKVMhYK+qgVbuo1w","Pathfinding",void 0),M=h.ccclass,N=h.property,i("Pathfinding",(C=M("Pathfinding"),D=N(l),w=N(u),L=N(p),_=N(p),C((x=e((P=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t=i.call.apply(i,[this].concat(r))||this,n(d(t),"isDeubg",x,d(t)),n(d(t),"debugnode",W,d(t)),n(d(t),"gridWorldSize",R,d(t)),n(d(t),"nodeDiameter",X,d(t)),n(d(t),"layermask",Y,d(t)),n(d(t),"seeker",k,d(t)),n(d(t),"target",G,d(t)),s(d(t),"OpenList",null),s(d(t),"CloseList",null),s(d(t),"nodeRadius",0),s(d(t),"grid",[]),s(d(t),"gridSizeX",0),s(d(t),"gridSizeY",0),s(d(t),"path",[]),s(d(t),"startpos",null),s(d(t),"endpos",null),t}o(t,i);var e=t.prototype;return e.onLoad=function(){this.nodeRadius=this.nodeDiameter/2,this.gridSizeX=Math.floor(this.gridWorldSize.x/this.nodeDiameter),this.gridSizeY=Math.floor(this.gridWorldSize.y/this.nodeDiameter)},e.createGrid=function(){for(var i=0;i<this.gridSizeX;i++){for(var t=[],e=0;e<this.gridSizeY;e++)t.push(null);this.grid.push(t)}for(var r=new c(this.node.position.x-this.gridWorldSize.x/2,0,this.node.position.y+this.gridWorldSize.y/2),s=0;s<this.gridSizeX;s++)for(var o=0;o<this.gridSizeY;o++){var n=new c(r.x+this.nodeRadius+s*this.nodeDiameter,.04,r.z-this.nodeRadius-o*this.nodeDiameter),d=this.checkGridNode(n);if(this.grid[s][o]=new F(d,n,s,o),this.isDeubg){var a=g(this.debugnode);a.setScale(new c(this.nodeDiameter,this.nodeDiameter,this.nodeDiameter)),a.parent=this.node,a.position=n,d||this.changeNodeColor(a,f.RED),this.grid[s][o].node=a}}},e.FindPath=function(i,t){console.log("调用一次寻路"),this.startpos=i,this.endpos=t;var e=this.nodeFromWorldPoint(i),r=this.nodeFromWorldPoint(t);for(this.OpenList=[],this.CloseList=[],this.OpenList.push(e);this.OpenList.length>0;){for(var s=this.OpenList[0],o=1;o<this.OpenList.length;o++)(this.OpenList[o].fCost<s.fCost||this.OpenList[o].fCost==s.fCost)&&this.OpenList[o].hCost<s.hCost&&(s=this.OpenList[o]);var n=this.OpenList.indexOf(s);if(this.OpenList.splice(n,1),this.CloseList.push(s),s==r)return void this.RetracePath(e,r);for(var d=this.GetNeighbours(s),a=0;a<d.length;a++){var h=d[a];if(h.walkable&&!(this.CloseList.indexOf(h)>0)){var l=s.gCost+this.GetDistance(s,h);(l<d[a].gCost||this.OpenList.indexOf(d[a])<0)&&(h.gCost=l,h.hCost=this.GetDistance(h,r),h.parent=s,this.OpenList.indexOf(h)<0&&this.OpenList.push(h))}}}},e.GetDistance=function(i,t){var e=Math.abs(i.gridX-t.gridX),r=Math.abs(i.gridY-t.gridY);return e>r?14*r+10*(e-r):14*e+10*(r-e)},e.GetNeighbours=function(i){for(var t=new Array,e=-1;e<=1;e++)for(var r=-1;r<=1;r++)if(0!==e||0!==r){var s=i.gridX+e,o=i.gridY+r;s>=0&&s<this.gridSizeX&&o>=0&&o<this.gridSizeY&&t.push(this.grid[s][o])}return t},e.nodeFromWorldPoint=function(i){var t=(this.gridWorldSize.x/2+i.x)/this.gridWorldSize.x,e=(this.gridWorldSize.y/2-i.z)/this.gridWorldSize.y;t=v.clampf(t,0,1),e=v.clampf(e,0,1);var r=Math.floor(t*this.gridSizeX),s=Math.floor(e*this.gridSizeY);return this.grid[r][s]},e.RetracePath=function(i,t){for(var e=new Array,r=t;r!=i;)e.push(r),r=r.parent;e.reverse(),this.path=e,this.isDeubg},e.getWorldPath=function(){var i=[];i.push(this.startpos);for(var t=new c(this.node.position.x-this.gridWorldSize.x/2,0,this.node.position.y+this.gridWorldSize.y/2),e=0;e<this.path.length-1;e++){var r=t.x+this.nodeRadius+this.path[e].gridX*this.nodeDiameter,s=t.z-this.nodeRadius-this.path[e].gridY*this.nodeDiameter;i.push(b(r,0,s))}return i.push(this.endpos),i},e.checkGridNode=function(i){var t=z.Ray.create(i.x,i.y,i.z,0,1,0);return!m.instance.raycastClosest(t,1<<this.layermask,10)},e.changeNodeColor=function(i,t){var e=i.getComponent(y).material.passes[0],r=e.getHandle("albedo"),s=t;e.setUniform(r,s)},t}(S)).prototype,"isDeubg",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=e(P.prototype,"debugnode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(P.prototype,"gridWorldSize",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(P.prototype,"nodeDiameter",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=e(P.prototype,"layermask",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),k=e(P.prototype,"seeker",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(P.prototype,"target",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=P))||O)),i("GridNode",F=function(){function i(i,t,e,r){s(this,"walkable",void 0),s(this,"worldPosition",void 0),s(this,"gridX",void 0),s(this,"gridY",void 0),s(this,"gCost",0),s(this,"hCost",0),s(this,"parent",void 0),s(this,"node",null),this.walkable=i,this.worldPosition=t,this.gridX=e,this.gridY=r}return r(i,[{key:"fCost",get:function(){return this.gCost+this.hCost}}]),i}()),a._RF.pop()}}}));

System.register("chunks:///plugin/astar/NavAgent.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","./Pathfinding.js"],(function(t,i){var e,s,n,o,h,a,r,d,p,l,v,c,g,u,f,m,y,x,N,P,w,T,_;return t({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,h=t.defineProperty},function(t){a=t.cclegacy,r=t._decorator,d=t.Node,p=t.find,l=t.v3,v=t.Vec3,c=t.Quat,g=t.Component},function(t){u=t.Pathfinding}],execute:function(){a._RF.push({},"fa7aft0ii9Al7bRZNCOWiLg","NavAgent",void 0),T=r.ccclass,_=r.property,t("NavAgent",(f=T("NavAgent"),m=_(d),f((N=e((x=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,n(o(i),"speed",N,o(i)),n(o(i),"stopDistance",P,o(i)),n(o(i),"target",w,o(i)),h(o(i),"path",null),h(o(i),"nextStep",1),h(o(i),"vx",void 0),h(o(i),"vy",void 0),h(o(i),"vz",void 0),h(o(i),"walkTime",0),h(o(i),"passedTime",0),h(o(i),"isMoving",!1),h(o(i),"dstRot",null),h(o(i),"now",new c),h(o(i),"pathfinding",null),h(o(i),"prevNode",null),i}s(i,t);var e=i.prototype;return e.init=function(t,i){this.speed=t,this.target=i,this.pathfinding.createGrid()},e.onLoad=function(){this.pathfinding=p("PathFinding").getComponent(u)},e.startNav=function(){this.pathfinding.FindPath(this.node.position,this.target.position),this.path=this.pathfinding.getWorldPath();var t=this.pathfinding.nodeFromWorldPoint(this.target.position);this.prevNode=t,this.isMoving=!1,null==this.path||this.path.length<2||(this.node.setWorldPosition(this.path[0].x,this.node.worldPosition.y,this.path[0].z),this.nextStep=1,this.moveToNext())},e.moveToNext=function(){if(this.nextStep>=this.path.length)this.isMoving=!1;else{var t=this.node.getWorldPosition(),i=l(this.path[this.nextStep].x,this.node.worldPosition.y,this.path[this.nextStep].z),e=l(0,0,0);v.subtract(e,i,t);var s=v.len(e);this.vx=this.speed*e.x/s,this.vy=this.speed*e.y/s,this.vz=this.speed*e.z/s,this.walkTime=s/this.speed,this.passedTime=0,this.isMoving=!0;var n=this.node.getRotation();this.node.lookAt(i),this.dstRot=this.node.getRotation(),this.node.setRotation(n)}},e.stopNav=function(){this.isMoving=!1},e.update=function(t){var i=this.pathfinding.nodeFromWorldPoint(this.target.position);if(this.prevNode==i){if(this.isMoving){this.passedTime+=t,this.passedTime>this.walkTime&&(t-=this.passedTime-this.walkTime);var e=this.node.getWorldPosition();e.x+=this.vx*t,e.y+=this.vy*t,e.z+=this.vz*t,this.node.setWorldPosition(e),v.distance(e,this.path[this.path.length-1])<this.stopDistance&&this.stopNav(),c.slerp(this.now,this.node.getRotation(),this.dstRot,10*t),this.node.setRotation(this.now),this.passedTime>=this.walkTime&&(this.nextStep++,this.moveToNext())}}else this.startNav()},i}(g)).prototype,"speed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),P=e(x.prototype,"stopDistance",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=e(x.prototype,"target",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=x))||y)),a._RF.pop()}}}));

System.register("chunks:///script/Enemy.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","../plugin/astar/NavAgent.js"],(function(t,e){var n,i,a,o,s,r,h,l,c,d,p,u,g,v,m,y,_,f,P,A,C;return t({_dec:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.defineProperty},function(t){r=t.cclegacy,h=t._decorator,l=t.ParticleSystem,c=t.AnimationComponent,d=t.find,p=t.BoxCollider,u=t.tween,g=t.v3,v=t.Component},function(t){m=t.NavAgent}],execute:function(){r._RF.push({},"eb40cRSW3JLjaomK4OZPu2a","Enemy",void 0),A=h.ccclass,C=h.property,t("Enemy",(y=A("Enemy"),y((P=n((f=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,a(o(e),"startingHealth",P,o(e)),s(o(e),"hitParticles",null),s(o(e),"currentHealth",0),s(o(e),"isDead",!1),s(o(e),"_animation",void 0),s(o(e),"playerNode",null),s(o(e),"navAgent",null),s(o(e),"startpos",g(0,0,0)),e}i(e,t);var n=e.prototype;return n.onLoad=function(){this.currentHealth=this.startingHealth,this.hitParticles=this.node.getComponentInChildren(l),this._animation=this.node.getComponentInChildren(c),this.playerNode=d("Player"),this.navAgent=this.node.getComponent(m),this.startpos=this.node.worldPosition.clone()},n.start=function(){this.navAgent.init(2,this.playerNode),this.navAgent.startNav()},n.takedamage=function(t,e){this.isDead||(this.currentHealth-=t,this.hitParticles.node.worldPosition=e,this.hitParticles.play(),this.currentHealth<=0&&this.death())},n.death=function(){var t=this;this.navAgent.stopNav(),this.node.getComponent(p).enabled=!1,this.isDead=!0,this.changeState(2),u(this.node).to(5,{position:g(this.node.position.x,-2,this.node.position.z)}).call((function(){t.isDead=!1,t.node.getComponent(p).enabled=!0,console.log(t.startpos),t.node.setWorldPosition(t.startpos),t.changeState(1),t.currentHealth=t.startingHealth,t.navAgent.startNav()})).start()},n.changeState=function(t){t!=this._state&&(this._state=t,0==this._state?this._animation.crossFade("Idle",.5):1==this._state?this._animation.crossFade("Move",.5):2==this._state&&this._animation.crossFade("Death",.5))},e}(v)).prototype,"startingHealth",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),_=f))||_)),r._RF.pop()}}}));

System.register("chunks:///script/Player.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./Enemy.js"],(function(t,e){var i,n,o,r,s,a,l,c,u,h,d,g,p,_,f,m,v,y,P,b,w,C,z,S,L,A,R,B,E,x,j,k,D,F,I;return t({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_temp:void 0}),{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.defineProperty},function(t){a=t.cclegacy,l=t._decorator,c=t.Node,u=t.ParticleSystem,h=t.AnimationComponent,d=t.RigidBody,g=t.ColliderComponent,p=t.Vec2,_=t.v2,f=t.geometry,m=t.PhysicsSystem,v=t.tween,y=t.Vec3,P=t.Component},function(t){b=t.Enemy}],execute:function(){a._RF.push({},"5e739ILwstIoIHwHRjrdQWO","Player",void 0),F=l.ccclass,I=l.property,.016,3,t("Player",(w=F("Player"),C=I(c),z=I(u),S=I(c),L=I(c),w((B=i((R=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(r(e),"damagePerShot",B,r(e)),o(r(e),"timeBetweenBullets",E,r(e)),o(r(e),"gunPoint",x,r(e)),o(r(e),"gunPartic",j,r(e)),o(r(e),"bluteLine",k,r(e)),o(r(e),"sportLight",D,r(e)),s(r(e),"timer",0),s(r(e),"_animation",void 0),s(r(e),"_vector",y.ZERO),s(r(e),"_vectorAngle",y.ZERO),s(r(e),"rigbody",null),s(r(e),"_state",0),s(r(e),"_now_time",0),e}n(e,t);var i=e.prototype;return i.onLoad=function(){this._animation=this.node.getComponent(h),this.rigbody=this.getComponent(d)},i.start=function(){this.getComponent(g).on("onCollisionEnter",this.onCollisionEnter,this)},i.joysitckCallback=function(t,e){this._vector=t.normalize()},i.joysitckAngleCallback=function(t,e){this._vectorAngle=t.normalize()},i.fix_update=function(t){if(this._vector.lengthSqr()>0&&this.node.setPosition(this.node.position.add3f(3*this._vector.x*t,0,3*-this._vector.y*t)),this._vectorAngle.lengthSqr()>0){var e=-this.getDegree(new p(this._vectorAngle.x,this._vectorAngle.y));this.node.setRotationFromEuler(0,e+135)}},i.update=function(t){for(this._now_time+=t;this._now_time>=.016;)this.fix_update(.016),this._now_time-=.016;this._vectorAngle.lengthSqr()>0||this._vector.lengthSqr()>0?(this.changeState(1),this.fire(t)):this.changeState(0)},i.getDegree=function(t){var e=t.signAngle(_(1,0))/Math.PI*180;return t.y>0&&(e+=360),e},i.onCollisionEnter=function(t){},i.fire=function(t){var e=this;if(this.timer+=t,this.timer>=this.timeBetweenBullets){var i=f.Ray.create(this.gunPoint.worldPosition.x,this.gunPoint.worldPosition.y,this.gunPoint.worldPosition.z,-this.gunPoint.forward.x,-this.gunPoint.forward.y,-this.gunPoint.forward.z);if(m.instance.raycastClosest(i,4,8)){var n=m.instance.raycastClosestResult;this.gunPartic.play(),this.sportLight.active=!0,this.bluteLine.active=!0,v(this.node).delay(.2).call((function(){e.sportLight.active=!1,e.bluteLine.active=!1})).start(),null!=n.collider.node.getComponent(b)&&n.collider.node.getComponent(b).takedamage(10,n.hitPoint)}this.timer=0}},i.changeState=function(t){t!=this._state&&(this._state=t,0==this._state?this._animation.crossFade("Idle",.5):1==this._state?this._animation.crossFade("Move",.5):2==this._state&&this._animation.crossFade("Death",.5))},e}(P)).prototype,"damagePerShot",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),E=i(R.prototype,"timeBetweenBullets",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),x=i(R.prototype,"gunPoint",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(R.prototype,"gunPartic",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(R.prototype,"bluteLine",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(R.prototype,"sportLight",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=R))||A)),a._RF.pop()}}}));

System.register("chunks:///script/camera/follow.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(o,t){var e,i,r,l,s,n,a,f,c,w,d,u,h,p,g,v,y,P,T;return o({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(o){e=o.applyDecoratedDescriptor,i=o.inheritsLoose,r=o.initializerDefineProperty,l=o.assertThisInitialized,s=o.defineProperty},function(o){n=o.cclegacy,a=o._decorator,f=o.Node,c=o.Vec3,w=o.Component}],execute:function(){n._RF.push({},"ff8ee6OQldPNLrgLpXROotm","follow",void 0),P=a.ccclass,T=a.property,o("follow",(d=P("follow"),u=T({type:f}),d((g=e((p=function(o){function t(){var t;return t=o.call(this)||this,r(l(t),"followTarget",g,l(t)),r(l(t),"isFollowRotation",v,l(t)),r(l(t),"offset",y,l(t)),s(l(t),"moveSpeed",3),s(l(t),"isPlayingStart",!1),t}i(t,o);var e=t.prototype;return e.start=function(){},e.showStart=function(){},e.lateUpdate=function(o){if(this.followTarget){var t=this.node.worldPosition;if(this.isPlayingStart){var e=new c(this.followTarget.worldPosition.x+this.offset.x,this.followTarget.worldPosition.y+this.offset.y,this.followTarget.worldPosition.z+this.offset.z);c.subtract(new c,t,e).length()>.001&&c.lerp(e,t,e,this.moveSpeed*o),this.node.setWorldPosition(e),this.node.lookAt(this.followTarget.worldPosition,new c(0,1,0))}else{var i=this.offset;this.isFollowRotation&&(i=c.transformQuat(cc.v3(),this.offset,this.followTarget.rotation));var r=new c(this.followTarget.worldPosition.x+i.x,this.followTarget.worldPosition.y+i.y,this.followTarget.worldPosition.z+i.z);c.subtract(new c,t,r).length();if(this.node.setWorldPosition(r),this.node.lookAt(this.followTarget.worldPosition,new c(0,1,0)),this.isFollowRotation){var l=new c(this.node.eulerAngles);l.y=this.followTarget.eulerAngles.y,this.node.eulerAngles=l}}}},t}(w)).prototype,"followTarget",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(p.prototype,"isFollowRotation",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=e(p.prototype,"offset",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),h=p))||h)),n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["../plugin/joystick/Joystick.js","../plugin/astar/Pathfinding.js","../plugin/astar/NavAgent.js","../script/Enemy.js","../script/Player.js","../script/camera/follow.js"],(function(n,t){return{setters:[function(n){},function(n){},function(n){},function(n){},function(n){},function(n){}],execute:function(){}}}));

(function(r) {
  r('project:///assets/plugin/joystick/Joystick.js', 'chunks:///plugin/joystick/Joystick.js');
  r('project:///assets/plugin/astar/Pathfinding.js', 'chunks:///plugin/astar/Pathfinding.js');
  r('project:///assets/plugin/astar/NavAgent.js', 'chunks:///plugin/astar/NavAgent.js');
  r('project:///assets/script/Enemy.js', 'chunks:///script/Enemy.js');
  r('project:///assets/script/Player.js', 'chunks:///script/Player.js');
  r('project:///assets/script/camera/follow.js', 'chunks:///script/camera/follow.js');
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});